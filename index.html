<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pharmacology Quiz Game</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #8E8CD8 0%, #6DC8E8 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            width: 90%;
            max-width: 700px;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        h1 {
            color: #4A6572;
            margin-bottom: 20px;
            font-size: 2.5rem;
        }
        
        h2 {
            color: #5C9EAD;
            margin-bottom: 15px;
        }
        
        p {
            color: #6D7A80;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .screen {
            display: none;
        }
        
        #start-screen {
            display: block;
        }
        
        .btn {
            background: linear-gradient(to right, #5C9EAD, #4A6572);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .option {
            display: block;
            width: 100%;
            text-align: left;
            background-color: #F5F7FA;
            border: 2px solid #DFE4EA;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1rem;
        }
        
        .option:hover {
            background-color: #E8EEF4;
            border-color: #5C9EAD;
        }
        
        .option.selected {
            background-color: #5C9EAD;
            color: white;
            border-color: #4A6572;
        }
        
        .option.correct {
            background-color: #7CCBB5;
            color: white;
            border-color: #5AAE9D;
        }
        
        .option.incorrect {
            background-color: #E67C73;
            color: white;
            border-color: #D45D54;
        }
        
        .timer {
            font-size: 1.5rem;
            font-weight: bold;
            color: #E67C73;
            margin: 20px 0;
        }
        
        .progress {
            background-color: #E8EEF4;
            border-radius: 10px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #5C9EAD, #4A6572);
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        
        .question-number {
            font-size: 1.2rem;
            color: #6D7A80;
            margin-bottom: 10px;
        }
        
        .question-text {
            font-size: 1.3rem;
            color: #4A6572;
            margin-bottom: 25px;
            font-weight: 600;
        }
        
        .score-display {
            font-size: 2rem;
            color: #4A6572;
            margin: 20px 0;
        }
        
        .feedback {
            font-size: 1.2rem;
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            background-color: #F5F7FA;
        }
        
        .correct-feedback {
            color: #5AAE9D;
            font-weight: bold;
        }
        
        .incorrect-feedback {
            color: #D45D54;
            font-weight: bold;
        }
        
        .explanation {
            margin-top: 15px;
            font-style: italic;
            color: #6D7A80;
        }
        
        @media (max-width: 600px) {
            .container {
                width: 95%;
                padding: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .btn {
                padding: 12px 25px;
                font-size: 1rem;
            }
            
            .question-text {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Start Screen -->
        <div id="start-screen" class="screen">
            <h1>Pharmacology Quiz Challenge</h1>
            <p>Test your knowledge of GI drugs, respiratory medications, and analgesics with this interactive quiz!</p>
            <p>You'll have <strong>60 seconds</strong> to answer each of the 15 questions. How many can you get right?</p>
            <button id="start-btn" class="btn">Start Quiz</button>
        </div>
        
        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div class="question-number">Question <span id="current-question">1</span> of 15</div>
            <div class="progress">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <div class="timer">Time left: <span id="time">60</span>s</div>
            <div class="question-text" id="question-text"></div>
            <div id="options-container"></div>
        </div>
        
        <!-- Feedback Screen -->
        <div id="feedback-screen" class="screen">
            <div id="feedback-message" class="feedback"></div>
            <button id="next-btn" class="btn">Next Question</button>
        </div>
        
        <!-- Results Screen -->
        <div id="results-screen" class="screen">
            <h1>Quiz Completed!</h1>
            <div class="score-display">Your score: <span id="score">0</span>/15</div>
            <p id="results-message"></p>
            
            <button id="restart-btn" class="btn">Play Again</button>
        </div>
    </div>

    <script>
        // Quiz questions array
        const questions = [
            {
                question: "What is the primary mechanism of action for Proton Pump Inhibitors (PPIs) like Omeprazole?",
                options: [
                    "They neutralize gastric acid directly in the stomach lumen.",
                    "They block histamine H2 receptors on parietal cells.",
                    "They irreversibly inhibit the H+/K+ ATPase (proton pump) on parietal cells.",
                    "They form a protective coating over gastric ulcers."
                ],
                correct: 2,
                explanation: "PPIs work by irreversibly inhibiting the H+/K+ ATPase (proton pump) on parietal cells, which is the final common pathway for gastric acid secretion."
            },
            {
                question: "A patient is prescribed a 'rescue' inhaler for acute asthma symptoms. Which generic drug is most appropriate for this use?",
                options: [
                    "Salmeterol",
                    "Budesonide",
                    "Salbutamol",
                    "Tiotropium"
                ],
                correct: 2,
                explanation: "Salbutamol (Ventolin) is a Short-Acting Beta-2 Agonist (SABA) used as a rescue medication for acute asthma symptoms."
            },
            {
                question: "Which antacid is most likely to cause diarrhea as a side effect?",
                options: [
                    "Aluminium hydroxide",
                    "Calcium carbonate",
                    "Magnesium hydroxide",
                    "Sodium bicarbonate"
                ],
                correct: 2,
                explanation: "Magnesium-based antacids commonly cause diarrhea as a side effect, while aluminum-based antacids tend to cause constipation."
            },
            {
                question: "A patient taking Cimetidine for a gastric ulcer is at risk of significant drug interactions. Why?",
                options: [
                    "It induces CYP450 enzymes, increasing the metabolism of other drugs.",
                    "It is a potent inhibitor of CYP450 enzymes like CYP3A4.",
                    "It chelates with minerals like calcium and zinc in the gut.",
                    "It causes rapid tolerance, requiring higher doses of concomitant drugs."
                ],
                correct: 1,
                explanation: "Cimetidine is a potent inhibitor of several CYP450 enzymes, which can lead to increased levels of other drugs metabolized by these enzymes."
            },
            {
                question: "Which class of drugs is primarily used for treating acid reflux by neutralizing gastric acid?",
                options: [
                    "Proton Pump Inhibitors",
                    "H2 Receptor Antagonists",
                    "Antacids",
                    "Prokinetic Agents"
                ],
                correct: 2,
                explanation: "Antacids work by directly neutralizing gastric acid in the stomach, providing rapid but short-lasting relief from acid reflux symptoms."
            },
            {
                question: "A key difference between older (1st gen) and newer (2nd gen) antihistamines is:",
                options: [
                    "Newer agents are more effective for treating anaphylaxis.",
                    "Older agents are less likely to cause drowsiness.",
                    "Newer agents do not cross the blood-brain barrier, reducing CNS effects.",
                    "Older agents are primarily used for allergic rhinitis only."
                ],
                correct: 2,
                explanation: "Second-generation antihistamines are designed to not cross the blood-brain barrier, which significantly reduces sedative effects compared to first-generation antihistamines."
            },
            {
                question: "Which of the following is NOT a common side effect of anticholinergic medications?",
                options: [
                    "Dry mouth",
                    "Urinary retention",
                    "Diarrhea",
                    "Blurred vision"
                ],
                correct: 2,
                explanation: "Anticholinergic medications typically cause constipation, not diarrhea, along with other side effects like dry mouth, urinary retention, and blurred vision."
            },
            {
                question: "What is a crucial administration instruction for patients using inhaled corticosteroids to prevent oral candidiasis?",
                options: [
                    "Take the medication on a full stomach.",
                    "Rinse their mouth after each use.",
                    "Avoid taking it before bedtime.",
                    "Shake the inhaler for at least 60 seconds."
                ],
                correct: 1,
                explanation: "Rinsing the mouth after using inhaled corticosteroids helps prevent oral candidiasis, a common side effect of these medications."
            },
            {
                question: "Which generic name corresponds to a leukotriene receptor antagonist used in asthma?",
                options: [
                    "Acetylcysteine",
                    "Guaifenesin",
                    "Montelukast",
                    "Betahistine"
                ],
                correct: 2,
                explanation: "Montelukast (Singulair) is a leukotriene receptor antagonist used for asthma maintenance therapy."
            },
            {
                question: "How do antimotility agents like loperamide work to treat diarrhea?",
                options: [
                    "They absorb toxins and water in the gastrointestinal tract",
                    "They activate μ-opioid receptors in the myenteric plexus to reduce gut motility",
                    "They kill pathogenic bacteria in the colon",
                    "They inhibit chloride secretion into the intestinal lumen"
                ],
                correct: 1,
                explanation: "Antimotility agents like loperamide work by activating μ-opioid receptors in the myenteric plexus of the gut wall, which reduces peristalsis and increases intestinal transit time."
            },
            {
                question: "A patient with allergic rhinitis wants a non-drowsy option. Which generic drug should be recommended?",
                options: [
                    "Chlorpheniramine",
                    "Promethazine",
                    "Diphenhydramine",
                    "Cetirizine"
                ],
                correct: 3,
                explanation: "Cetirizine is a second-generation antihistamine that is less likely to cause drowsiness compared to first-generation options like chlorpheniramine, promethazine, or diphenhydramine."
            },
            {
                question: "What is the major risk of taking strong opioids like Morphine or Fentanyl?",
                options: [
                    "They frequently cause severe liver toxicity.",
                    "They have no analgesic effect for visceral pain.",
                    "Overdose can cause lethal respiratory depression.",
                    "They are ineffective for chronic cancer pain."
                ],
                correct: 2,
                explanation: "The most dangerous side effect of strong opioids is respiratory depression, which can be lethal in overdose situations."
            },
            {
                question: "Which of the following is a common and serious adverse effect associated with long-term use of oral corticosteroids like Prednisolone?",
                options: [
                    "Hypertension and diabetes mellitus",
                    "Green discoloration of urine",
                    "Persistent dry cough",
                    "Tinnitus and hearing loss"
                ],
                correct: 0,
                explanation: "Long-term use of oral corticosteroids can lead to serious metabolic effects including hypertension and diabetes mellitus."
            },
            {
                question: "What is the generic name of the common antitussive (cough suppressant) found in many over-the-counter cough syrups?",
                options: [
                    "Guaifenesin",
                    "Dextromethorphan",
                    "Ambroxol",
                    "Pseudoephedrine"
                ],
                correct: 1,
                explanation: "Dextromethorphan is a common antitussive found in many OTC cough preparations. It works by suppressing the cough reflex in the brain."
            },
            {
                question: "Which laxative works by drawing water into the bowel and is a disaccharide broken down by colonic bacteria?",
                options: [
                    "Bisacodyl (Dulcolax)",
                    "Lactulose",
                    "Senna (Senokot)",
                    "Methylcellulose"
                ],
                correct: 1,
                explanation: "Lactulose is a synthetic disaccharide that draws water into the bowel and is broken down by colonic bacteria, producing acids and gas that stimulate bowel movement."
            }
        ];

        // Game variables
        let currentQuestionIndex = 0;
        let score = 0;
        let timeLeft = 60;
        let timer;
        let userAnswers = [];
        let randomizedQuestions = [];

        // DOM elements
        const startScreen = document.getElementById('start-screen');
        const gameScreen = document.getElementById('game-screen');
        const feedbackScreen = document.getElementById('feedback-screen');
        const resultsScreen = document.getElementById('results-screen');
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const currentQuestionElement = document.getElementById('current-question');
        const timeElement = document.getElementById('time');
        const progressBar = document.getElementById('progress-bar');
        const scoreElement = document.getElementById('score');
        const feedbackMessage = document.getElementById('feedback-message');
        const resultsMessage = document.getElementById('results-message');

        // Initialize the page
        window.onload = function() {
            // Set up event listeners
            startBtn.addEventListener('click', startGame);
            nextBtn.addEventListener('click', nextQuestion);
            restartBtn.addEventListener('click', restartGame);
        }

        // Randomize questions
        function randomizeQuestions() {
            randomizedQuestions = [...questions];
            for (let i = randomizedQuestions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [randomizedQuestions[i], randomizedQuestions[j]] = [randomizedQuestions[j], randomizedQuestions[i]];
            }
        }

        function startGame() {
            // Randomize questions
            randomizeQuestions();
            
            startScreen.style.display = 'none';
            gameScreen.style.display = 'block';
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            showQuestion();
        }

        function showQuestion() {
            // Reset and update UI
            clearInterval(timer);
            timeLeft = 60;
            timeElement.textContent = timeLeft;
            currentQuestionElement.textContent = currentQuestionIndex + 1;
            progressBar.style.width = `${((currentQuestionIndex + 1) / randomizedQuestions.length) * 100}%`;
            
            // Display question
            questionText.textContent = randomizedQuestions[currentQuestionIndex].question;
            
            // Display options
            optionsContainer.innerHTML = '';
            randomizedQuestions[currentQuestionIndex].options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option');
                button.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(button);
            });
            
            // Start timer
            timer = setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            timeLeft--;
            timeElement.textContent = timeLeft;
            
            if (timeLeft <= 0) {
                clearInterval(timer);
                // Time's up - mark as incorrect and move to feedback
                userAnswers.push({
                    questionIndex: currentQuestionIndex,
                    selected: -1,
                    correct: randomizedQuestions[currentQuestionIndex].correct,
                    timeUp: true
                });
                showFeedback(false, true);
            }
        }

        function selectOption(index) {
            clearInterval(timer);
            
            // Disable all options to prevent further selection
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // Mark selected option
            options[index].classList.add('selected');
            
            // Check if correct
            const isCorrect = index === randomizedQuestions[currentQuestionIndex].correct;
            
            // Mark correct answer
            options[randomizedQuestions[currentQuestionIndex].correct].classList.add('correct');
            
            // If incorrect, mark the selected option as incorrect
            if (!isCorrect) {
                options[index].classList.add('incorrect');
            }
            
            // Store answer
            userAnswers.push({
                questionIndex: currentQuestionIndex,
                selected: index,
                correct: randomizedQuestions[currentQuestionIndex].correct,
                isCorrect: isCorrect,
                timeUp: false
            });
            
            // Update score if correct
            if (isCorrect) {
                score++;
            }
            
            // Show feedback after a brief delay
            setTimeout(() => {
                showFeedback(isCorrect, false);
            }, 1500);
        }

        function showFeedback(isCorrect, timeUp) {
            gameScreen.style.display = 'none';
            feedbackScreen.style.display = 'block';
            
            if (timeUp) {
                feedbackMessage.innerHTML = `<p class="incorrect-feedback">Time's up!</p>
                                            <p>The correct answer was: <strong>${randomizedQuestions[currentQuestionIndex].options[randomizedQuestions[currentQuestionIndex].correct]}</strong></p>
                                            <p class="explanation">${randomizedQuestions[currentQuestionIndex].explanation}</p>`;
            } else if (isCorrect) {
                feedbackMessage.innerHTML = `<p class="correct-feedback">Correct! Well done.</p>
                                            <p class="explanation">${randomizedQuestions[currentQuestionIndex].explanation}</p>`;
            } else {
                feedbackMessage.innerHTML = `<p class="incorrect-feedback">Incorrect.</p>
                                            <p>The correct answer was: <strong>${randomizedQuestions[currentQuestionIndex].options[randomizedQuestions[currentQuestionIndex].correct]}</strong></p>
                                            <极速赛车开奖结果历史p class="explanation">${randomizedQuestions[currentQuestionIndex].explanation}</p>`;
            }
        }

        function nextQuestion() {
            feedbackScreen.style.display = 'none';
            currentQuestionIndex++;
            
            if (currentQuestionIndex < randomizedQuestions.length) {
                gameScreen.style.display = 'block';
                showQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            feedbackScreen.style.display = 'none';
            resultsScreen.style.display = 'block';
            score极速赛车开奖结果历史Element.textContent = score;
            
            // Custom message based on score
            if (score >= 13) {
                resultsMessage.textContent = "Excellent! You have a strong grasp of pharmacology concepts.";
            } else if (score >= 10) {
                resultsMessage.textContent = "Good job! You have a solid understanding of most concepts.";
            } else if (score >= 7) {
                resultsMessage.textContent = "Not bad! With a bit more study, you'll master these concepts.";
            } else {
                resultsMessage.textContent = "Keep studying! Review the material and try again.";
            }
        }

        function restartGame() {
            resultsScreen.style.display = 'none';
            startScreen.style.display = 'block';
        }
    </script>
</body>
</html>